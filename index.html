<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <!-- integrity確保匯進來的資料是正確的 -->
    <style>
        li{
            background-color: papayawhip;
            height: 40px;
            margin: auto;
         
        }
        ol button{
            height:100%;
            background-color: rgba(255, 255, 255,0);
            
        }
        span{
            height:100%;

        }
        ol{
            padding: 0;
        }
        #Mous{
            
            display: flex;
        }
    </style>
</head>

<body>

    <div class="container">
        <div class="row text-center mt-4">
            <h2>代辦事項</h2>
        </div>
        <hr>
        <div class="row justify-content-md-center mb-2">
            <div class="col-md-auto d-flex pb-md-0 pb-2">
                <input type="text" class="m-auto" size="50" placeholder="請輸入代辦事項">
            </div>
            <div class="col-md-auto col-12 d-flex justify-content-center">
                <button class="addList m-auto">新增</button>
            </div>
        </div>
        <ol class="row justify-content-md-center" id="Mous">
        
        </ol>

    </div>


    <script src="https://code.jquery.com/jquery-3.5.1.slim.js"
        integrity="sha256-DrT5NfxfbHvMHux31Lkhxg42LY6of8TaYyK50jnxRnM=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
        integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
        integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
        crossorigin="anonymous"></script>
    <script>
        var Mous = document.querySelector('#Mous');   //事件列表
        var addList = document.querySelector('.addList');   //新增事件按鈕
        var data = [];

        addList.addEventListener('click', addlistTo);

        function addlistTo(e) {
            var text = document.querySelector('input').value;  //取得輸入在input的值
            var todo = {
                content: text  //定義todo物件
            };
            data.push(todo);  //增加入待辦事件到陣列中
            // console.log(data);
            updateList(data);  //更新網頁內容
        }
        //-- 更新網頁內容
        function updateList(items) {
            str = '';
            var len = items.length;
            for (var i = 0; i < len; i++) {
                var number= i+1;
                str +=
                    `<li class="row m-auto w-75 p-2 justify-content-between mt-2"> <span class="col-4">` + number+ '. ' + items[i].content + `</span><button class="col-2  p-0" data-num="` + i + `">Delete</button></li>`;

            }
            Mous.innerHTML = str;
        }


        //-- 刪除待辦事項
        Mous.addEventListener('click', listDone);   //點擊刪除按鈕的事件監聽
        function listDone(e) {
            console.log(e.target.dataset.num);//data-num表示數字
            var listnum = e.target.dataset.num;
            data.splice(listnum, 1);  //刪除事項
            //months.splice(4, 1, 'May');months.splice(第幾筆, 刪除幾個, 新增甚麼);
            updateList(data);
        }
    </script>
</body>

</html>